!function(t){t.fn.drawr=function(e,r){var o=this;if(o.distance_between=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},o.angle_between=function(t,e){return Math.atan2(e.x-t.x,e.y-t.y)},o.hex_to_rgb=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},o.get_mouse_data=function(t,e,r){if(null!=e)var o=parseInt(window.getComputedStyle(e,null).getPropertyValue("border-top-width")),a=parseInt(window.getComputedStyle(e,null).getPropertyValue("border-left-width")),i=void 0!==r?r.scrollX:0,s=void 0!==r?r.scrollY:0,n={left:e.offsetLeft-i+a,top:e.offsetTop-s+o};else n={left:0,top:0};if("touchmove"==t.type||"touchstart"==t.type){var l=void 0!==t.originalEvent.touches[0].force?t.originalEvent.touches[0].force:1;return void 0!==t.originalEvent.touches[0].touchType&&"stylus"==t.originalEvent.touches[0].touchType?this.pen_pressure=!0:this.pen_pressure=!1,0==l&&0==this.pen_pressure&&(l=1),{x:(t.originalEvent.touches[0].pageX-n.left)/this.zoomFactor,y:(t.originalEvent.touches[0].pageY-n.top)/this.zoomFactor,pressure:l}}return{x:(t.pageX-n.left)/this.zoomFactor,y:(t.pageY-n.top)/this.zoomFactor,pressure:1}},o.draw_hsl=function(t,e){var r=e.getContext("2d");for(row=0;row<100;row++){var o=r.createLinearGradient(0,0,100,0);o.addColorStop(0,"hsl("+t+", 0%, "+(100-row)+"%)"),o.addColorStop(1,"hsl("+t+", 100%, "+(50-row/2)+"%)"),r.fillStyle=o,r.fillRect(0,row,100,1)}},o.is_dragging=!1,o.bind_draw_events=function(){var e=this,r=e.getContext("2d",{alpha:e.settings.enable_tranparency});t(e).data("is_drawing",!1),t(e).data("lastx",null),t(e).data("lasty",null),t(e).parent().on("touchstart.drawr",function(t){t.preventDefault()}),e.drawStart=function(a){var i=t(e).parent()[0],s=e.offsetLeft,n=e.offsetTop,l=t(e).parent()[0].offsetWidth-parseInt(window.getComputedStyle(i,null).getPropertyValue("border-right-width"))-parseInt(window.getComputedStyle(i,null).getPropertyValue("border-left-width")),h=t(e).parent()[0].offsetHeight-parseInt(window.getComputedStyle(i,null).getPropertyValue("border-bottom-width"))-parseInt(window.getComputedStyle(i,null).getPropertyValue("border-top-width")),d=o.get_mouse_data.call(e,a);if(e.$brushToolbox.is(":visible")&&d.x*e.zoomFactor>s&&d.x*e.zoomFactor<s+l&&d.y*e.zoomFactor>n&&d.y*e.zoomFactor<n+h&&0==o.is_dragging){d=o.get_mouse_data.call(e,a,t(e).parent()[0],e),t(e).data("is_drawing",!0),r.lineCap="round",r.lineJoin="round";var c=e.brushAlpha;1==e.active_brush.pressure_affects_alpha&&(c*=2*d.pressure)>1&&(c=1);var u=e.active_brush.size;1==e.active_brush.pressure_affects_size&&(u*=2*d.pressure)<1&&(u=1),t(e).data("positions",[{x:d.x,y:d.y}]),void 0!==e.active_brush.drawStart&&e.active_brush.drawStart.call(e,e.active_brush,r,d.x,d.y,u,c,a),void 0!==e.active_brush.drawSpot&&e.active_brush.drawSpot.call(e,e.active_brush,r,d.x,d.y,u,c,a)}},t(window).bind("touchstart.drawr mousedown.drawr",e.drawStart),e.drawMove=function(a){var i=o.get_mouse_data.call(e,a,t(e).parent()[0],e);if(1==t(e).data("is_drawing")){var s=t(e).data("positions"),n={x:i.x,y:i.y},l=s[s.length-1],h=o.distance_between(l,n),d=o.angle_between(l,n),c=e.brushAlpha;1==e.active_brush.pressure_affects_alpha&&(c*=2*i.pressure)>1&&(c=1);var u=e.active_brush.size;1==e.active_brush.pressure_affects_size&&(u*=2*i.pressure)<1&&(u=1);var p=u/6;p<1&&(p=1);for(var f=p;f<h;f+=p)x=l.x+Math.sin(d)*f,y=l.y+Math.cos(d)*f,void 0!==e.active_brush.drawSpot&&e.active_brush.drawSpot.call(e,e.active_brush,r,x,y,u,c,a),s.push({x:x,y:y});t(e).data("positions",s)}i=o.get_mouse_data.call(e,a),t(".drawr-toolbox").each(function(){1==t(this).data("dragging")&&t(this).offset({top:(i.y-t(this).data("offsety"))*e.zoomFactor,left:(i.x-t(this).data("offsetx"))*e.zoomFactor})})},t(window).bind("touchmove.drawr mousemove.drawr",e.drawMove),e.drawStop=function(a){if(1==t(e).data("is_drawing")){var i=o.get_mouse_data.call(e,a,e),s=e.brushAlpha;1==e.active_brush.pressure_affects_alpha&&(s*=2*i.pressure)>1&&(s=1);var n=e.active_brush.size;1==e.active_brush.pressure_affects_size&&(n*=2*i.pressure)<1&&(n=1);var l=void 0;void 0!==e.active_brush.drawStop&&(l=e.active_brush.drawStop.call(e,e.active_brush,r,i.x,i.y,n,s,a)),void 0!==l&&o.record_undo_entry.call(e)}t(e).data("is_drawing",!1).data("lastx",null).data("lasty",null),t(".drawr-toolbox").data("dragging",!1),o.is_dragging||"INPUT"!==a.target.tagName&&a.preventDefault(),o.is_dragging=!1},t(window).bind("touchend.drawr mouseup.drawr",e.drawStop)},o.record_undo_entry=function(){this.$undoButton.css("opacity",1),this.undoStack.push({data:this.toDataURL("image/png"),current:!0}),this.undoStack.length>this.settings.undo_max_levels+1&&this.undoStack.shift()},o.select_button=function(e){this.getContext("2d",{alpha:this.settings.enable_tranparency});this.$brushToolbox.find("button.type-brush").each(function(){t(this).removeClass("active"),t(this).css({background:"#eeeeee",color:"#000000"})}),t(e).css({background:"orange",color:"white"}),t(e).addClass("active"),o.activate_brush.call(this,t(e).data("data"))},o.activate_brush=function(t){var e=this.getContext("2d",{alpha:this.settings.enable_tranparency});void 0!==this.active_brush&&void 0!==this.active_brush.deactivate&&this.active_brush.deactivate.call(this,this.active_brush,e),this.active_brush=t,this.brushSize=void 0!==t.size?t.size:this.brushSize,this.brushAlpha=void 0!==t.alpha?t.alpha:this.brushAlpha,void 0!==this.$settingsToolbox&&this.$settingsToolbox.find(".slider-alpha").val(100*this.brushAlpha).trigger("input"),void 0!==this.$settingsToolbox&&this.$settingsToolbox.find(".slider-size").val(this.brushSize).trigger("input"),this.active_brush.activate.call(this,this.active_brush,e)},o.create_button=function(e,r,a,i){var s=this,n=t("<button style='float:left;display:block;margin:0px;'><i class='"+a.icon+"'></i></button>");return n.css({outline:"none","text-align":"center",padding:"0px 0px 0px 0px",width:"50%",background:"#eeeeee",color:"#000000",border:"0px","min-height":"30px","user-select":"none","text-align":"center","border-radius":"0px"}),void 0!==i&&n.css(i),n.addClass("type-"+r),n.data("data",a).data("type",r),n.on("mousedown.drawr touchstart.drawr",function(e){"brush"==t(this).data("type")&&o.select_button.call(s,this),"toggle"==t(this).data("type")&&(void 0===t(this).data("state")&&t(this).data("state",!1),t(this).data("state",!t(this).data("state")),1==t(this).data("state")?t(this).css({background:"orange",color:"white"}):t(this).css({background:"#eeeeee",color:"#000000"})),e.stopPropagation(),e.preventDefault()}),t(e).append(n),n},o.create_slider=function(e,r,o,a,i){return t(e).append('<div style="clear:both;font-weight:bold;text-align:center;padding:5px 0px 5px 0px">'+r+'</div><div style="clear:both;display: inline-block;width: 50px;height: 60px;margin-top:5px;padding: 0;"><input class="slider-component slider-'+r.toLowerCase()+'" value="'+i+'" style="background:transparent;width: 50px;height: 50px;margin: 0;transform-origin: 25px 25px;transform: rotate(90deg);" type="range" min="'+o+'" max="'+a+'" step="1" /><span>'+i+"</span></div>"),t(e).find(".slider-"+r.toLowerCase()).on("mousedown touchstart",function(t){t.stopPropagation()}).on("input.drawr",function(e){t(this).next().text(t(this).val())}),t(e).find(".slider-"+r.toLowerCase())},o.initialize_canvas=function(e,r,i){this.origStyles=o.get_styles(this),this.origParentStyles=o.get_styles(t(this).parent()[0]),t(this).css({display:"block","user-select":"none","webkit-touch-callout":"none"}),t(this).parent().css({overflow:"hidden","user-select":"none","webkit-touch-callout":"none"}),1==this.settings.enable_tranparency&&t(this).css({"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAB3RJTUUH4wUIDDYyGYFdggAAAC5JREFUOMtjfPXqFQNuICoqikeWiYECMKp5ZGhm/P//Px7p169fjwbYqGZKNAMA5EEI4kUyPZcAAAAASUVORK5CYII=)"}),this.width===e&&this.height===r||(this.width=e,this.height=r),1==i&&(this.zoomFactor=1,void 0!==this.$zoomToolbox&&this.$zoomToolbox.find("input").val(100).trigger("input"),o.apply_scroll.call(this,0,0,!1),t(this).width(e),t(this).height(r)),t(a).css({"background-size":20*this.zoomFactor+"px "+20*this.zoomFactor+"px "}),this.pen_pressure=!1;var s=this.getContext("2d",{alpha:this.settings.enable_tranparency});1==this.settings.clear_on_init&&(0==this.settings.enable_tranparency?(s.fillStyle="white",s.fillRect(0,0,e,r)):s.clearRect(0,0,e,r)),(s=this.$memoryCanvas[0].getContext("2d")).fillStyle="blue",s.fillRect(0,0,e,r);var n=t(this).parent().innerWidth(),l=t(this).parent().innerHeight(),h=parseInt(window.getComputedStyle(t(this).parent()[0],null).getPropertyValue("border-top-width")),d=parseInt(window.getComputedStyle(t(this).parent()[0],null).getPropertyValue("border-left-width"));this.$memoryCanvas.css({"z-index":5,position:"absolute",width:n,height:l,top:t(this).parent().offset().top+h+"px",left:t(this).parent().offset().left+d+"px"}),this.$memoryCanvas[0].width=n,this.$memoryCanvas[0].height=l,this.$memoryCanvas.width(n),this.$memoryCanvas.height(l)},o.draw_animations=function(){if(t(this).hasClass("active-drawr")){var e=this.$memoryCanvas[0].getContext("2d");e.clearRect(0,0,this.$memoryCanvas[0].width,this.$memoryCanvas[0].height),void 0!==this.effectCallback&&null!==this.effectCallback&&this.effectCallback.call(this,e,this.active_brush,this.scrollX,this.scrollY,this.zoomFactor);var r=t(this).parent().width(),a=t(this).parent().height();if(e.globalAlpha=.5,e.lineWidth=1,e.lineJoin=e.lineCap="round",e.strokeStyle="black",e.beginPath(),e.moveTo(0,-1-this.scrollY),e.lineTo(this.width,-1-this.scrollY),e.stroke(),e.beginPath(),e.moveTo(0,this.height*this.zoomFactor-this.scrollY),e.lineTo(this.width,this.height*this.zoomFactor-this.scrollY),e.stroke(),e.beginPath(),e.moveTo(-1-this.scrollX,0),e.lineTo(-1-this.scrollX,this.height),e.stroke(),e.beginPath(),e.moveTo(this.width*this.zoomFactor-this.scrollX,0),e.lineTo(this.width*this.zoomFactor-this.scrollX,this.height),e.stroke(),this.scrollTimer>0){e.globalAlpha=.006*this.scrollTimer<1?.006*this.scrollTimer:.6,this.scrollTimer-=5,e.lineWidth=4,e.lineCap="square",e.beginPath();var i=r,s=r;this.scrollX<0&&(s+=this.scrollX),this.scrollX>this.width*this.zoomFactor-r&&(s-=this.scrollX-(this.width*this.zoomFactor-r)),s<0&&(s=0);var n=i/100*(100/this.width*s);(n/=this.zoomFactor)<1&&(n=1);var l=(i-n)/100*(100/(this.width*this.zoomFactor-r)*this.scrollX);l<0&&(l=0),l>r-n&&(l=r-n),e.moveTo(l,a-3),e.lineTo(l+n,a-3),e.stroke();var h=a,d=a;this.scrollY<0&&(d+=this.scrollY),this.scrollY>this.height*this.zoomFactor-a&&(d-=this.scrollY-(this.height*this.zoomFactor-a)),d<0&&(d=0);var c=h/100*(100/(this.height*this.zoomFactor)*d);c<1&&(c=1);var u=(h-c)/100*(100/(this.width*this.zoomFactor-a)*this.scrollY);u<0&&(u=0),u>a-c&&(u=a-c),e.moveTo(r-2,u),e.lineTo(r-2,u+c),e.stroke()}window.requestAnimationFrame(o.draw_animations.bind(this))}},o.create_toolbox=function(e,r,a,i){var s=document.createElement("div");return s.innerHTML="<div style='padding:5px 0px 5px 0px'>"+a+"</div>",s.className="drawr-toolbox drawr-toolbox-"+e,s.ownerCanvas=this,t(s).css({position:"absolute","z-index":6,cursor:"move",width:i+"px",height:"auto",color:"#fff",padding:"2px",background:"linear-gradient(to bottom, rgba(69,72,77,1) 0%,rgba(0,0,0,1) 100%)","border-radius":"2px","box-shadow":"0px 2px 5px -2px rgba(0,0,0,0.75)","user-select":"none","font-family":"sans-serif","font-size":"12px","text-align":"center"}),t(s).insertAfter(t(this).parent()),t(s).offset(r),t(s).hide(),t(s).on("mousedown.drawr touchstart.drawr",function(e){var r=this.ownerCanvas,a=o.get_mouse_data.call(r,e,this);t(this).data("offsetx",a.x).data("offsety",a.y).data("dragging",!0),o.is_dragging=!0,e.preventDefault()}),t(s)},o.apply_scroll=function(e,r,o){t(this).css("transform","translate("+-e+"px,"+-r+"px)"),this.scrollX=e,this.scrollY=r,1==o&&(this.scrollTimer=250)},o.get_styles=function(t){for(var e={},r=0,o=t.style.length;r<o;r++){var a=t.style[r],i=getComputedStyle(t,null).getPropertyValue(a);e[a]=i}return e},"export"==e){var a=this.first()[0],i=void 0===r?"image/png":r;return a.toDataURL(i)}if("button"==e){var s=t();return this.each(function(){var t=o.create_button.call(this,this.$brushToolbox[0],"action",r);s=s.add(t)}),s}return this.each(function(){var a=this;if("start"===e){if(!t(a).hasClass("active-drawr"))return console.error("The element you are running this command on is not a drawr canvas."),!1;t(".drawr-toolbox").hide(),t(".drawr-toolbox-brush").show(),t(".drawr-toolbox-palette").show(),a.$brushToolbox.find("button:first").mousedown()}else if("stop"===e){if(!t(a).hasClass("active-drawr"))return console.error("The element you are running this command on is not a drawr canvas."),!1;a.$brushToolbox.find("button.type-toggle").each(function(){1==t(this).data("state")&&t(this).trigger("mousedown")}),t(".drawr-toolbox").hide()}else if("load"===e){if(!t(a).hasClass("active-drawr"))return console.error("The element you are running this command on is not a drawr canvas."),!1;var i=document.createElement("img");i.crossOrigin="Anonymous",i.onload=function(){var t=a.getContext("2d",{alpha:a.settings.enable_tranparency});o.initialize_canvas.call(a,i.width,i.height,!0),a.undoStack=[{data:a.toDataURL("image/png"),current:!0}],t.drawImage(i,0,0)},i.src=r}else if("destroy"===e){if(!t(a).hasClass("active-drawr"))return console.error("The element you are running this command on is not a drawr canvas."),!1;var s=t(a).parent();s.off("touchstart.drawr"),s.find(".drawr-toolbox button").off("mousedown.drawr touchstart.drawr"),s.find(".drawr-toolbox .slider-component").off("input.drawr"),s.find(".drawr-toolbox").on("mousedown.drawr touchstart.drawr"),s.find(".drawr-toolbox .color-picker").off("choose.drawrpalette").drawrpalette("destroy"),t(window).unbind("touchend.drawr mouseup.drawr",a.drawStop),t(window).unbind("touchmove.drawr mousemove.drawr",a.drawMove),t(window).unbind("touchstart.drawr mousedown.drawr",a.drawStart),a.$memoryCanvas.remove(),a.$brushToolbox.remove(),a.$settingsToolbox.remove(),a.$zoomToolbox.remove(),delete a.$memoryCanvas,delete a.$brushToolbox,delete a.$settingsToolbox,delete a.$zoomToolbox,delete a.plugin,delete a.settings,delete a.undoStack,delete a.brushColor,delete a.$undoButton,delete a.active_brush,delete a.zoomFactor,delete a.scrollX,delete a.scrollY,delete a.brushSize,delete a.brushAlpha,delete a.pen_pressure,delete a.drawStart,delete a.drawMove,delete a.drawStop,delete scrollTimer,t(a).width(a.width),t(a).height(a.height),t(a).css("transform","translate(0px,0px)"),t(a).attr("style",""),t(a).parent().attr("style",""),t(a).css(a.origStyles),t(a).parent().css(a.origParentStyles),delete a.origStyles,delete a.origParentStyles,t(a).removeClass("active-drawr"),t(a).parent().removeClass("drawr-container")}else if("object"==typeof e||void 0===e){if(t(a).hasClass("active-drawr"))return!1;a.className=a.className+" active-drawr",t(a).parent().addClass("drawr-container");var n={enable_tranparency:!0,canvas_width:t(a).parent().innerWidth(),canvas_height:t(a).parent().innerHeight(),undo_max_levels:5,color_mode:"picker",clear_on_init:!0};"object"==typeof e&&(n=Object.assign(n,e)),a.settings=n,a.$memoryCanvas=t("<canvas class='sfx-canvas'></canvas>"),a.$memoryCanvas.insertBefore(a),a.plugin=o,o.initialize_canvas.call(a,n.canvas_width,n.canvas_height,!0),a.undoStack=[{data:a.toDataURL("image/png"),current:!0}];var l=a.getContext("2d",{alpha:n.enable_tranparency});if(a.brushColor={r:0,g:0,b:0},window.requestAnimationFrame(o.draw_animations.bind(a)),a.$brushToolbox=o.create_toolbox.call(a,"brush",{left:t(a).parent().offset().left,top:t(a).parent().offset().top},"Brushes",80),t.fn.drawr.availableBrushes.sort(function(t,e){return t.order>e.order?1:e.order>t.order?-1:0}),t.each(t.fn.drawr.availableBrushes,function(t,e){o.create_button.call(a,a.$brushToolbox[0],"brush",e)}),o.create_button.call(a,a.$brushToolbox[0],"toggle",{icon:"mdi mdi-palette-outline mdi-24px"}).on("touchstart.drawr mousedown.drawr",function(){a.$settingsToolbox.toggle()}),o.create_button.call(a,a.$brushToolbox[0],"toggle",{icon:"mdi mdi-magnify mdi-24px"}).on("touchstart.drawr mousedown.drawr",function(){a.$zoomToolbox.toggle()}),a.$undoButton=o.create_button.call(a,a.$brushToolbox[0],"action",{icon:"mdi mdi-undo-variant mdi-24px"}).on("touchstart.drawr mousedown.drawr",function(){if(a.undoStack.length>0){if(1==a.undoStack[a.undoStack.length-1].current&&a.undoStack.pop(),t.each(a.undoStack,function(t,e){e.current=!1}),0==a.undoStack.length)return;var e=a.undoStack.pop().data,r=document.createElement("img");r.crossOrigin="Anonymous",r.onload=function(){a.plugin.initialize_canvas.call(a,r.width,r.height,!1),l.drawImage(r,0,0)},r.src=e,0==a.undoStack.length&&(a.$undoButton.css("opacity",.5),a.undoStack.push({data:e,current:!1}))}}),a.$undoButton.css("opacity",.5),a.$settingsToolbox=o.create_toolbox.call(a,"settings",{left:t(a).parent().offset().left+t(a).parent().innerWidth()-80,top:t(a).parent().offset().top},"Settings",80),"presets"==a.settings.color_mode){t.each(["#FFFFFF","#0074D9","#2ECC40","#FFDC00","#FF4136","#111111"],function(t,e){o.create_button.call(a,a.$settingsToolbox[0],"color",{icon:""},{background:e}).on("touchstart.drawr mousedown.drawr",function(){a.brushColor=o.hex_to_rgb(e),void 0!==a.active_brush.activate&&a.active_brush.activate.call(a,a.active_brush,l),o.is_dragging=!1})})}else a.$settingsToolbox.append("<input type='text' class='color-picker'/>"),a.$settingsToolbox.find(".color-picker").drawrpalette().on("choose.drawrpalette",function(t,e){a.brushColor=o.hex_to_rgb(e),void 0!==a.active_brush.activate&&a.active_brush.activate.call(a,a.active_brush,l)});o.create_slider.call(a,a.$settingsToolbox,"alpha",0,100,parseInt(100*n.inital_brush_alpha)).on("input.drawr",function(){a.brushAlpha=parseFloat(this.value/100),a.active_brush.alpha=parseFloat(this.value/100),o.is_dragging=!1}),o.create_slider.call(a,a.$settingsToolbox,"size",2,100,n.inital_brush_size).on("input.drawr",function(){a.brushSize=this.value,a.active_brush.size=this.value,o.is_dragging=!1}),a.$zoomToolbox=o.create_toolbox.call(a,"zoom",{left:t(a).parent().offset().left+t(a).parent().innerWidth()-80,top:t(a).parent().offset().top},"Zoom",80),o.create_slider.call(a,a.$zoomToolbox,"zoom",0,400,100).on("input.drawr",function(){var e=10*Math.ceil(this.value/10);t(this).next().text(e);var r=.01*e,i=r-a.zoomFactor+1;a.zoomFactor=r,t(a).width(a.width*r),t(a).height(a.height*r),t(a).css({"background-size":20*r+"px "+20*r+"px "}),1!==i&&o.apply_scroll.call(a,a.scrollX*i,a.scrollY*i,!0)}),o.bind_draw_events.call(a)}}),this},t.fn.drawr.register=function(e){void 0===t.fn.drawr.availableBrushes&&(t.fn.drawr.availableBrushes=[]),t.fn.drawr.availableBrushes.push(e)}}(jQuery),function(t){t.fn.drawrpalette=function(e,r){var o=this;return o.offset=5,o.pickerSize=200,o.get_mouse_value=function(t,e){var r={};return"touchmove"==t.type||"touchstart"==t.type?(r.x=t.originalEvent.touches[0].pageX-e.offset().left-o.offset,r.y=t.originalEvent.touches[0].pageY-e.offset().top-o.offset):(r.x=t.pageX-e.offset().left-o.offset,r.y=t.pageY-e.offset().top-o.offset),r},o.rgb_to_hex=function(t,e,r){return"#"+(16777216+(r|e<<8|t<<16)).toString(16).slice(1)},o.hex_to_rgb=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},o.hsv_to_rgb=function(t,e,r){var o,a,i,s,n,l,h,d;switch(1===arguments.length&&(e=t.s,r=t.v,t=t.h),l=r*(1-e),h=r*(1-(n=6*t-(s=Math.floor(6*t)))*e),d=r*(1-(1-n)*e),s%6){case 0:o=r,a=d,i=l;break;case 1:o=h,a=r,i=l;break;case 2:o=l,a=r,i=d;break;case 3:o=l,a=h,i=r;break;case 4:o=d,a=l,i=r;break;case 5:o=r,a=l,i=h}return{r:Math.round(255*o),g:Math.round(255*a),b:Math.round(255*i)}},o.rgb_to_hsv=function(t,e,r){1===arguments.length&&(e=t.g,r=t.b,t=t.r);var o,a=Math.max(t,e,r),i=Math.min(t,e,r),s=a-i,n=0===a?0:s/a,l=a/255;switch(a){case i:o=0;break;case t:o=e-r+s*(e<r?6:0),o/=6*s;break;case e:o=r-t+2*s,o/=6*s;break;case r:o=t-e+4*s,o/=6*s}return{h:o,s:n,v:l}},o.hsv_to_xy=function(t,e,r){return{x:e*o.pickerSize+o.offset,y:(1-r)*o.pickerSize+o.offset}},o.xy_to_hsv=function(t,e){return{s:t/o.pickerSize,v:(o.pickerSize-e)/o.pickerSize}},o.draw_hsv=function(t,e){var r=this.hsv,a=e.getContext("2d");for(a.clearRect(0,0,e.width,e.height),row=0;row<t;row++){var i=a.createLinearGradient(0,0,t,0),s=(t-row)/t,n=o.hsv_to_rgb(r.h,0,s);i.addColorStop(0,"rgb("+n.r+", "+n.g+","+n.b+")");n=o.hsv_to_rgb(r.h,1,s);i.addColorStop(1,"rgb("+n.r+", "+n.g+","+n.b+")"),a.fillStyle=i,a.fillRect(o.offset,row+o.offset,t,1)}for(row=0;row<t;row++)a.fillStyle="hsl("+360/t*row+", 100%, 50%)",a.fillRect(t+o.offset+5,row+o.offset,40,1);a.fillStyle="black",a.fillRect(t+o.offset+3,o.offset+r.h*t-3,44,6),a.fillStyle="white",a.fillRect(t+o.offset+5,o.offset+r.h*t-1,40,2);var l=o.hsv_to_xy(this.hsv.h,this.hsv.s,this.hsv.v);a.beginPath(),a.lineWidth=3,a.strokeStyle="black",a.arc(l.x,l.y,5,0,2*Math.PI),a.stroke(),a.beginPath(),a.lineWidth=2,a.strokeStyle="white",a.arc(l.x,l.y,4,0,2*Math.PI),a.stroke()},o.update_color=function(){var t=this.hsv,e=o.hsv_to_rgb(t.h,t.s,t.v),r="rgb("+e.r+","+e.g+","+e.b+")";this.$button.css("background-color",r),o.draw_hsv.call(this,o.pickerSize,this.$dropdown.find("canvas")[0])},o.update_value=function(){var e=o.hsv_to_rgb(this.hsv.h,this.hsv.s,this.hsv.v),r=o.rgb_to_hex(e.r,e.g,e.b);t(this).val(r)},o.cancel=function(){var e=o.hex_to_rgb(t(this).val()),r=o.rgb_to_hsv(e.r,e.g,e.b);this.hsv=r,o.update_color.call(this),t(this).trigger("cancel.drawrpalette",t(this).val())},this.each(function(){var a=this;if("destroy"===e){if(!t(a).hasClass("active-drawrpalette"))return console.error("The element you are running this command on is not a drawrpalette."),!1;a.$button.off("mousedown.drawrpalette touchstart.drawrpalette"),a.$dropdown.find(".ok").off("mouseup.drawrpalette touchend.drawrpalette"),a.$dropdown.find(".cancel").off("mouseup.drawrpalette touchend.drawrpalette"),a.$dropdown.off("mousedown.drawrpalette touchstart.drawrpalette"),a.$button.off("mousedown.drawrpalette touchstart.drawrpalette"),t(window).unbind("mousedown.drawrpalette touchstart.drawrpalette",a.paletteStart),t(window).unbind("mousemove.drawrpalette touchmove.drawrpalette",a.paletteMove),t(window).unbind("mouseup.drawrpalette touchend.drawrpalette",a.paletteStop),t(a).show(),a.$button.remove(),a.$dropdown.remove(),t(a).unwrap(),delete a.$wrapper,delete a.$button,delete a.$dropdown,delete a.hsl,delete a.slidingHue,delete a.slidingHsl,delete a.paletteStart,delete a.paletteMove,delete a.paletteStop,t(a).removeClass("active-drawrpalette")}else if("set"==e){if(!t(a).hasClass("active-drawrpalette"))return console.error("The element you are running this command on is not a drawrpalette."),!1;t(a).val(r);var i=o.hex_to_rgb(r),s=o.rgb_to_hsv(i.r,i.g,i.b);a.hsv=s,o.update_color.call(a)}else if("object"==typeof e||void 0===e){for(var n={},l=0,h=a.style.length;l<h;l++){var d=a.style[l],c=getComputedStyle(a,null).getPropertyValue(d);n[d]=c}var u=""!==a.className?a.className.split(" "):[];if(t(a).hasClass("active-drawrpalette"))return!1;a.className=a.className+" active-drawrpalette";var p={enable_alpha:!1,append_to:a};"object"==typeof e&&(p=Object.assign(p,e)),a.settings=p,a.plugin=o,t(this).wrap("<div class='drawrpallete-wrapper'></div>"),this.$wrapper=t(this).parent(),this.$wrapper.css({position:"relative",display:"inline-block"}),t(this).hide(),a.$button=t("<button>&nbsp;</button>"),a.$button.css({width:"40px",height:"40px",border:"2px solid #ccc","background-color":"#eee",cursor:"pointer","text-align":"text",padding:"0px","font-size":"2em","background-image":"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAAG0lEQVR42mNgwAfKy8v/48I4FeA0AacVDFQBAP9wJkE/KhUMAAAAAElFTkSuQmCC')","background-repeat":"no-repeat","background-position":"24px 25px"}),a.$button.css(n),t.each(u,function(t,e){a.$button.addClass(e)}),this.$wrapper.append(a.$button);var f=o.pickerSize+2*o.offset,g=o.pickerSize+40+2*o.offset+5;if(a.$dropdown=t("<div><canvas style='display:block;' class='drawrpallete-canvas' width="+g+" height="+f+" style='height:"+f+"px;width:"+g+"px;'></canvas></div>"),a.$dropdown.append('<div style="height:28px;text-align:right;margin-top:-2px;padding:0px 5px;"><button class="cancel">cancel</button><button style="margin-left:5px;width:40px;" class="ok">ok</button></div>'),this.$wrapper.append(a.$dropdown),a.$dropdown.css({background:"#eee",width:g+"px",height:f+28+"px",position:"absolute","z-index":8}),a.$dropdown.find(".ok").css("color","black").on("mouseup.drawrpalette touchend.drawrpalette",function(){o.update_value.call(a),t(a).trigger("choose.drawrpalette",t(a).val()),a.$dropdown.hide(),t(a).trigger("close.drawrpalette")}),a.$dropdown.find(".cancel").css("color","black").on("mouseup.drawrpalette touchend.drawrpalette",function(){o.cancel.call(a),a.$dropdown.hide(),t(a).trigger("close.drawrpalette")}),a.$dropdown.on("mousedown.drawrpalette touchstart.drawrpalette",function(e){var r=o.get_mouse_value(e,a.$dropdown);if(r.x>0&&r.x<o.pickerSize&&r.y>0&&r.y<o.pickerSize){a.slidingHsl=!0;var i=o.xy_to_hsv(r.x,r.y);a.hsv.s=i.s,a.hsv.v=i.v,o.update_color.call(a);var s=o.hsv_to_rgb.call(a,a.hsv.h,a.hsv.s,a.hsv.v),n=o.rgb_to_hex.call(a,s.r,s.g,s.b);t(a).trigger("preview.drawrpalette",n)}else if(r.x>o.pickerSize+5&&r.x<o.pickerSize+45&&r.y>0&&r.y<o.pickerSize){a.slidingHue=!0;var l=parseFloat(1/o.pickerSize)*r.y;a.hsv.h=l,o.update_color.call(a);s=o.hsv_to_rgb.call(a,a.hsv.h,a.hsv.s,a.hsv.v),n=o.rgb_to_hex.call(a,s.r,s.g,s.b);t(a).trigger("preview.drawrpalette",n)}e.preventDefault(),e.stopPropagation()}),a.$dropdown.hide(),a.$button.on("mousedown.drawrpalette touchstart.drawrpalette",function(e){a.slidingHue=!1,a.slidingHsl=!1;var r=a.$button.offset().left+a.$dropdown.outerWidth(),i=t(window).scrollLeft()+t(window).width();a.$dropdown.show(),r<i?a.$dropdown.offset({top:a.$button.offset().top+a.$button.outerHeight(),left:a.$button.offset().left}):a.$dropdown.offset({top:a.$button.offset().top+a.$button.outerHeight(),left:a.$button.offset().left-a.$dropdown.outerWidth()+a.$button.outerWidth()});var s=o.hex_to_rgb(t(a).val()),n=o.rgb_to_hsv(s.r,s.g,s.b);a.hsv=n,o.update_color.call(a),t(a).trigger("open.drawrpalette"),e.preventDefault(),e.stopPropagation()}),a.paletteStart=function(){a.$dropdown.is(":visible")&&(o.cancel.call(a),a.$dropdown.hide(),t(a).trigger("close.drawrpalette"))},t(window).bind("mousedown.drawrpalette touchstart.drawrpalette",a.paletteStart),a.paletteMove=function(e){a.$dropdown.find("canvas")[0].getContext("2d");var r=o.get_mouse_value(e,a.$dropdown);if(r.y>o.pickerSize&&(r.y=o.pickerSize),r.y<0&&(r.y=0),r.x<0&&(r.x=0),1==a.slidingHsl){r.x>o.pickerSize&&(r.x=o.pickerSize);var i=o.xy_to_hsv(r.x,r.y);a.hsv.s=i.s,a.hsv.v=i.v,o.update_color.call(a);var s=o.hsv_to_rgb.call(a,a.hsv.h,a.hsv.s,a.hsv.v),n=o.rgb_to_hex.call(a,s.r,s.g,s.b);t(a).trigger("preview.drawrpalette",n)}else if(1==a.slidingHue){var l=parseFloat(1/o.pickerSize)*r.y;a.hsv.h=l,o.update_color.call(a);s=o.hsv_to_rgb.call(a,a.hsv.h,a.hsv.s,a.hsv.v),n=o.rgb_to_hex.call(a,s.r,s.g,s.b);t(a).trigger("preview.drawrpalette",n)}},t(window).bind("mousemove.drawrpalette touchmove.drawrpalette",a.paletteMove),a.paletteStop=function(t){a.slidingHue=!1,a.slidingHsl=!1},t(window).bind("mouseup.drawrpalette touchend.drawrpalette",a.paletteStop),""!==t(this).val()){i=o.hex_to_rgb(t(this).val()),s=o.rgb_to_hsv(i.r,i.g,i.b);a.hsv=s,o.update_color.call(a)}else a.hsv={h:0,s:0,v:0},t(this).val("#000000"),o.update_color.call(a)}}),this}}(jQuery),jQuery.fn.drawr.register({icon:"mdi mdi-spray mdi-24px",name:"airbrush",size:40,alpha:.2,order:3,pressure_affects_alpha:!0,pressure_affects_size:!1,activate:function(t,e){},deactivate:function(t,e){},drawStart:function(t,e,r,o,a,i,s){e.globalCompositeOperation="source-over",e.globalAlpha=i},drawSpot:function(t,e,r,o,a,i,s){e.globalAlpha=i;var n=e.createRadialGradient(r,o,0,r,o,this.brushSize/2);n.addColorStop(0,"rgb("+this.brushColor.r+","+this.brushColor.g+","+this.brushColor.b+")"),n.addColorStop(.5,"rgba("+this.brushColor.r+","+this.brushColor.g+","+this.brushColor.b+",0.5)"),n.addColorStop(1,"rgba("+this.brushColor.r+","+this.brushColor.g+","+this.brushColor.b+",0)"),e.fillStyle=n,e.fillRect(r-this.brushSize/2,o-this.brushSize/2,this.brushSize,this.brushSize)},drawStop:function(t,e,r,o,a,i,s){return!0}}),jQuery.fn.drawr.register({icon:"mdi mdi-brush mdi-24px",name:"pen",size:6,alpha:.5,order:4,pressure_affects_alpha:!0,pressure_affects_size:!0,activate:function(t,e){},deactivate:function(t,e){},drawStart:function(t,e,r,o,a,i,s){e.globalCompositeOperation="source-over",e.globalAlpha=i},drawSpot:function(t,e,r,o,a,i,s){e.globalAlpha=i;var n=e.createRadialGradient(r,o,0,r,o,a/2);n.addColorStop(0,"rgb("+this.brushColor.r+","+this.brushColor.g+","+this.brushColor.b+")"),n.addColorStop(.5,"rgba("+this.brushColor.r+","+this.brushColor.g+","+this.brushColor.b+",0.5)"),n.addColorStop(1,"rgba("+this.brushColor.r+","+this.brushColor.g+","+this.brushColor.b+",0)"),e.fillStyle=n,e.fillRect(r-a/2,o-a/2,a,a)},drawStop:function(t,e,r,o,a,i,s){return!0}}),jQuery.fn.drawr.register({icon:"mdi mdi-eraser mdi-24px",name:"eraser",size:10,alpha:.8,order:5,pressure_affects_alpha:!0,pressure_affects_size:!0,activate:function(t,e){},deactivate:function(t,e){},drawStart:function(t,e,r,o,a,i,s){1==this.settings.enable_tranparency?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="source-over",e.globalAlpha=i},drawSpot:function(t,e,r,o,a,i,s){if(e.globalAlpha=i,1==this.settings.enable_tranparency){var n=e.createRadialGradient(r,o,0,r,o,a/2);n.addColorStop(0,"#000"),n.addColorStop(.5,"rgba(0,0,0,0.5)"),n.addColorStop(1,"rgba(0,0,0,0)"),e.fillStyle=n,e.fillRect(r-a/2,o-a/2,a,a)}else e.fillStyle="white",e.beginPath(),e.arc(r,o,a/2,0,2*Math.PI),e.fill()},drawStop:function(t,e,r,o,a,i,s){return!0}}),jQuery.fn.drawr.register({icon:"mdi mdi-eyedropper mdi-24px",name:"pen",order:6,activate:function(t,e){},deactivate:function(t,e){},drawStart:function(t,e,r,o,a){},drawSpot:function(t,e,r,o,a,i){var s=e.getImageData(r,o,1,1).data;this.brushColor={r:s[0],g:s[1],b:s[2]}}}),jQuery.fn.drawr.register({icon:"mdi mdi-square mdi-24px",name:"filledsquare",size:3,alpha:1,order:8,pressure_affects_alpha:!1,pressure_affects_size:!1,activate:function(t,e){},deactivate:function(t,e){},drawStart:function(t,e,r,o,a,i,s){t.currentAlpha=i,t.startPosition={x:r,y:o},this.effectCallback=t.effectCallback,e.globalAlpha=i,e.lineWidth=a},drawStop:function(t,e,r,o,a,i,s){return e.globalAlpha=i,e.lineJoin="miter",e.lineWidth=a,e.fillStyle="rgb("+this.brushColor.r+","+this.brushColor.g+","+this.brushColor.b+")",e.fillRect(t.startPosition.x,t.startPosition.y,t.currentPosition.x-t.startPosition.x,t.currentPosition.y-t.startPosition.y),this.effectCallback=null,!0},drawSpot:function(t,e,r,o,a,i,s){t.currentPosition={x:r,y:o}},effectCallback:function(t,e,r,o,a){t.globalAlpha=e.currentAlpha,t.lineJoin="miter",t.fillStyle="rgb("+this.brushColor.r+","+this.brushColor.g+","+this.brushColor.b+")",t.fillRect(e.startPosition.x*a-r,e.startPosition.y*a-o,(e.currentPosition.x-e.startPosition.x)*a,(e.currentPosition.y-e.startPosition.y)*a)}}),jQuery.fn.drawr.register({icon:"mdi mdi-marker mdi-24px",name:"marker",size:15,alpha:.3,order:10,pressure_affects_alpha:!1,pressure_affects_size:!1,activate:function(t,e){},deactivate:function(t,e){},drawStart:function(t,e,r,o,a,i,s){e.globalCompositeOperation="source-over",t.currentAlpha=i,t.startPosition={x:r,y:o},this.effectCallback=t.effectCallback},drawStop:function(t,e,r,o,a,i,s){e.globalAlpha=i,t.currentSize=a,t.currentAlpha=i,this.effectCallback=null,e.lineWidth=a,e.lineJoin=e.lineCap="round",e.strokeStyle="rgb("+this.brushColor.r+","+this.brushColor.g+","+this.brushColor.b+")",e.beginPath();var n=$(this).data("positions");return $.each(n,function(t,r){t>0&&(e.moveTo(n[t-1].x,n[t-1].y),e.lineTo(r.x,r.y))}),e.stroke(),!0},drawSpot:function(t,e,r,o,a,i,s){t.currentSize=a,t.currentAlpha=i,t.currentPosition={x:r,y:o}},effectCallback:function(t,e,r,o,a){t.globalAlpha=e.currentAlpha,t.lineWidth=e.currentSize*a,t.lineJoin=t.lineCap="round",t.strokeStyle="rgb("+this.brushColor.r+","+this.brushColor.g+","+this.brushColor.b+")",t.beginPath();var i=$(this).data("positions");$.each(i,function(e,s){e>0&&(t.moveTo(i[e-1].x*a-r,i[e-1].y*a-o),t.lineTo(s.x*a-r,s.y*a-o))}),t.stroke()}}),jQuery.fn.drawr.register({icon:"mdi mdi-cursor-move mdi-24px",name:"move",order:9,activate:function(t,e){$(this).parent().css({cursor:"move"})},deactivate:function(t,e){$(this).parent().css({cursor:"default"})},drawStart:function(t,e,r,o,a,i,s){e.globalCompositeOperation="source-over",t.dragStartX=null,t.scrollStartX=null,t.dragStartY=null,t.scrollStartY=null,"touchmove"==s.type||"touchstart"==s.type?(r=s.originalEvent.touches[0].pageX,Y=s.originalEvent.touches[0].pageY):(r=s.pageX,o=s.pageY),t.dragStartX=r,t.scrollStartX=this.scrollX,t.dragStartY=o,t.scrollStartY=this.scrollY},drawSpot:function(t,e,r,o,a,i,s){"touchmove"==s.type||"touchstart"==s.type?(r=s.originalEvent.touches[0].pageX,Y=s.originalEvent.touches[0].pageY):(r=s.pageX,o=s.pageY);var n=parseInt(-(r-t.dragStartX)),l=parseInt(-(o-t.dragStartY));this.plugin.apply_scroll.call(this,t.scrollStartX+n,t.scrollStartY+l,!0)}}),jQuery.fn.drawr.register({icon:"mdi mdi-fountain-pen-tip mdi-24px",name:"pen",size:3,alpha:1,order:2,pressure_affects_alpha:!1,pressure_affects_size:!0,activate:function(t,e){},deactivate:function(t,e){},drawStart:function(t,e,r,o,a,i,s){e.globalCompositeOperation="source-over",e.globalAlpha=i},drawSpot:function(t,e,r,o,a,i,s){e.globalAlpha=i,e.fillStyle="rgb("+this.brushColor.r+","+this.brushColor.g+","+this.brushColor.b+")",e.beginPath(),e.arc(r,o,a/2,0,2*Math.PI),e.fill()},drawStop:function(t,e,r,o,a,i,s){return!0}}),jQuery.fn.drawr.register({icon:"mdi mdi-lead-pencil mdi-24px",name:"pencil",size:5,alpha:.8,order:1,pressure_affects_alpha:!0,pressure_affects_size:!1,activate:function(t,e){var r=this;t.brushImage=new Image,t.brushImage.crossOrigin="Anonymous",t.brushImage.onload=function(){var e=document.createElement("canvas"),o=e.getContext("2d");e.width=t.brushImage.width,e.height=t.brushImage.height,o.fillStyle="rgb("+r.brushColor.r+","+r.brushColor.g+","+r.brushColor.b+")",o.fillRect(0,0,e.width,e.height),o.globalCompositeOperation="destination-atop",o.drawImage(t.brushImage,0,0),t.brushImage=e};t.brushImage.src="data:image/png;base64,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"},deactivate:function(t,e){},drawStart:function(t,e,r,o,a,i,s){e.globalCompositeOperation="source-over",e.globalAlpha=i},drawRotatedImage:function(t,e,r,o,a,i){t.save(),t.translate(r,o);var s=360*Math.random()+1;if(t.rotate(s*Math.PI/180),e.width>=e.height)var n=e.height/(e.width/i),l=i;else l=e.width/(e.height/i),n=i;var h=-l/2,d=-n/2;t.drawImage(e,h,d,l,n),t.restore()},drawSpot:function(t,e,r,o,a,i,s){e.globalAlpha=i,t.drawRotatedImage(e,t.brushImage,r,o,0,a)},drawStop:function(t,e,r,o,a,i,s){return!0}}),jQuery.fn.drawr.register({icon:"mdi mdi-vector-square mdi-24px",name:"square",size:3,alpha:1,order:7,pressure_affects_alpha:!1,pressure_affects_size:!1,activate:function(t,e){},deactivate:function(t,e){},drawStart:function(t,e,r,o,a,i,s){e.globalCompositeOperation="source-over",t.currentAlpha=i,t.currentSize=a,t.startPosition={x:r,y:o},this.effectCallback=t.effectCallback,e.globalAlpha=i},drawStop:function(t,e,r,o,a,i,s){return e.globalAlpha=i,e.lineJoin="miter",e.lineWidth=a,e.strokeStyle="rgb("+this.brushColor.r+","+this.brushColor.g+","+this.brushColor.b+")",e.strokeRect(t.startPosition.x,t.startPosition.y,t.currentPosition.x-t.startPosition.x,t.currentPosition.y-t.startPosition.y),this.effectCallback=null,!0},drawSpot:function(t,e,r,o,a,i,s){t.currentPosition={x:r,y:o}},effectCallback:function(t,e,r,o,a){t.globalAlpha=e.currentAlpha,t.lineWidth=e.currentSize*a,t.lineJoin="miter",t.strokeStyle="rgb("+this.brushColor.r+","+this.brushColor.g+","+this.brushColor.b+")",t.strokeRect(e.startPosition.x*a-r,e.startPosition.y*a-o,(e.currentPosition.x-e.startPosition.x)*a,(e.currentPosition.y-e.startPosition.y)*a)}}),jQuery.fn.drawr.register({icon:"mdi mdi-format-text mdi-24px",name:"text",size:22,alpha:1,order:22,pressure_affects_alpha:!1,pressure_affects_size:!1,activate:function(t,e){},deactivate:function(t,e){void 0!==t.$floatyBox&&(t.$floatyBox.remove(),delete t.$floatyBox)},drawStart:function(t,e,r,o,a,i,s){var n=this;if(t.currentPosition={x:r,y:o},e.globalAlpha=i,void 0===t.$floatyBox){var l=parseInt(20*n.zoomFactor);t.$floatyBox=$('<div style="z-index:6;position:absolute;width:100px;height:20px;"><input style="background:transparent;border:0px;padding:0px;font-size:'+l+'px;font-family:sans-serif;" type="text" value=""><button class="ok"><i class="mdi mdi-check"></i></button><button class="cancel"><i class="mdi mdi-close"></i></button></div>'),$(t.$floatyBox).insertAfter($(this).parent()),t.$floatyBox.css({left:$(this).parent().offset().left+r*n.zoomFactor-this.scrollX,top:$(this).parent().offset().top+o*n.zoomFactor-this.scrollY}),t.$floatyBox.find("input").on("mousedown touchstart",function(e){e.preventDefault(),e.stopPropagation(),t.$floatyBox.find("input").focus()}),t.$floatyBox.find("input").focus(),s.preventDefault(),s.stopPropagation(),t.$floatyBox.find(".ok").on("mousedown touchstart",function(r){r.preventDefault(),r.stopPropagation(),t.applyText.call(n,e,t,t.currentPosition.x,t.currentPosition.y,t.$floatyBox.find("input").val()),t.$floatyBox.remove(),delete t.$floatyBox}),t.$floatyBox.find(".cancel").on("mousedown touchstart",function(e){e.preventDefault(),e.stopPropagation(),t.$floatyBox.remove(),delete t.$floatyBox})}else t.$floatyBox.css({left:$(this).parent().offset().left+r*n.zoomFactor-this.scrollX,top:$(this).parent().offset().top+o*n.zoomFactor-this.scrollY})},applyText:function(t,e,r,o,a){t.font="20px sans-serif",t.textAlign="left",t.fillStyle="rgb("+this.brushColor.r+","+this.brushColor.g+","+this.brushColor.b+")",t.fillText(a,r-2,o+19),this.plugin.record_undo_entry.call(this)},drawSpot:function(t,e,r,o,a,i,s){t.currentPosition={x:r,y:o},void 0===t.$floatyBox||t.$floatyBox.css({left:$(this).parent().offset().left+r*this.zoomFactor-this.scrollX,top:$(this).parent().offset().top+o*this.zoomFactor-this.scrollY})}});